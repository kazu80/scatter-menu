<link rel="import" href="../polymer/polymer-element.html">

<dom-module id="scatter-menu">
    <template>
        <style>
            :host {
                display : block;

                --menu-size : 50%;
                --item-size : 50px;
                --space-size : 20px;
            }

            button {
                padding          : 5px 20px;
                border           : 1px solid #000000;
                border-radius    : 7px;
                background-color : #7d8b99;
            }

            .menu {
                position   : relative;
                margin     : 20px;
                width      : 100%;
                height     : 500px;
                background : rgba(255, 255, 255, .8);
            }

            .item {
                position      : absolute;
                top           : 0;
                left          : 0;
                width         : var(--item-size);
                height        : var(--item-size);
                border        : 1px solid #000000;
                border-radius : 50%;
                transition    : all 800ms ease;
            }

            /**
             * column 1
             */
            .item.active01 {
                left : calc(var(--menu-size) - (var(--item-size) * 1) - (var(--space-size) * 0));
            }

            .item.active02 {
                left : calc(var(--menu-size) - (var(--item-size) * 2) - (var(--space-size) * 1));
            }

            .item.active03 {
                left : calc(var(--menu-size) - (var(--item-size) * 3) - (var(--space-size) * 2));
            }

            .item.active04 {
                left : calc(var(--menu-size) - (var(--item-size) * 4) - (var(--space-size) * 3));
            }

            /**
             * column 2
             */
            .item.active05 {
                top  : calc(var(--item-size) + (var(--space-size) * 1));
                left : calc(var(--menu-size) - (var(--item-size) * 1) - (var(--space-size) * 0));
            }

            .item.active06 {
                top  : calc(var(--item-size) + (var(--space-size) * 1));
                left : calc(var(--menu-size) - (var(--item-size) * 2) - (var(--space-size) * 1));
            }

            .item.active07 {
                top  : calc(var(--item-size) + (var(--space-size) * 1));
                left : calc(var(--menu-size) - (var(--item-size) * 3) - (var(--space-size) * 2));
            }

            .item.active08 {
                top  : calc(var(--item-size) + (var(--space-size) * 1));
                left : calc(var(--menu-size) - (var(--item-size) * 4) - (var(--space-size) * 3));
            }

        </style>

        <button id="btn">open / close</button>

        <div class="menu">
            <slot></slot>
            <div id="item01" class="item"></div>
            <div id="item02" class="item"></div>
            <div id="item03" class="item"></div>
            <div id="item04" class="item"></div>

            <div id="item05" class="item"></div>
            <div id="item06" class="item"></div>
            <div id="item07" class="item"></div>
            <div id="item08" class="item"></div>
        </div>

    </template>

    <script>
        /**
         * `scatter-menu`
         *
         *
         * @customElement
         * @polymer
         * @demo demo/index.html
         */
        class ScatterMenu extends Polymer.Element {
            static get is () { return 'scatter-menu'; }

            static get properties () {
                return {
                    isOpen: {
                        type    : Boolean,
                        value   : false,
                        observer: '_isOpen'
                    }
                };
            }

            ready () {
                super.ready ();

                this.$.btn.addEventListener ('click', () => {
                    this.isOpen = !this.isOpen;
                });
            }

            _isOpen (val, old) {
                if (old === undefined) {
                    return;
                }

                if (val) {
                    this._active ();
                } else {
                    this._back ();
                }
            }

            _active () {
                this.$.item01.classList.add ('active01');
                this.$.item02.classList.add ('active02');
                this.$.item03.classList.add ('active03');
                this.$.item04.classList.add ('active04');

                this.$.item05.classList.add ('active05');
                this.$.item06.classList.add ('active06');
                this.$.item07.classList.add ('active07');
                this.$.item08.classList.add ('active08');
            }

            _back () {
                this.$.item01.classList.remove ('active01');
                this.$.item02.classList.remove ('active02');
                this.$.item03.classList.remove ('active03');
                this.$.item04.classList.remove ('active04');

                this.$.item05.classList.remove ('active05');
                this.$.item06.classList.remove ('active06');
                this.$.item07.classList.remove ('active07');
                this.$.item08.classList.remove ('active08');
            }
        }

        window.customElements.define (ScatterMenu.is, ScatterMenu);
    </script>
</dom-module>
